<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>

<script>

function init(){
	
	var size = document.body.childNodes.length;
	var nodes = document.body.childNodes;

	
	var photos = document.getElementById("photos");                                                                                           
	var imgs = photos.getElementsByTagName("img");
	
	
	
	var btnImgChange = document.getElementById("btn-img-change1");
	btnImgChange.onclick = function(){
		
		var comboBoxImg = document.getElementById("combo-box");
			
		for(var i=0; i<imgs.length; i++){
			imgs[i].src = "./"+comboBoxImg.value;
			imgs[i].style.border ="2px solid pink";
			imgs[i].style.width = "200px";
		}
		
		
	};
	
	
	
	var btnAddText = document.getElementById("btn-add-text");
	btnAddText.onclick = function(){
		
		var photos = document.getElementById("photos");
		var thelis = photos.getElementsByTagName("li");
		var li = thelis[0];
		
		var txt = document.createTextNode("bla bla bla");
		li.appendChild(txt);
			
	};
	
	
	var btnAddImg = document.getElementById("btn-add-img");
	btnAddImg.onclick = function(){
		
		var photos = document.getElementById("photos");
		var thelis = photos.getElementsByTagName("li");
		var li = thelis[0];
		
		
		var img = document.createElement("img");
		
		img.src="../images/re.png";
		
	
		li.appendChild(img);
		
		
	};
	
	
	var btnDelChild = document.getElementById("btn-del-child");
	btnDelChild.onclick = function(){
		
		var target = document.getElementById("photos");
		var thelis = photos.getElementsByTagName("li");
		var li = thelis[0];
		
		li.removeChild(li.lastChild);
	};
	
	var btnCloneNode = document.getElementById("btn-clone-node");
	btnCloneNode.onclick = function(){
		
		var target = document.getElementById("photos");
		var thelis = photos.getElementsByTagName("li");
		var t = thelis[0];
		
		
		var cloned = t.cloneNode(true);
		
		photos.appendChild(cloned);
		
		li.removeChild(li.lastChild);
	};
	
	var btnExchangeNodes = document.getElementById("btn-exchange-nodes");
	btnExchangeNodes.onclick = function(){
		
		var boxes = document.getElementById("photos").getElementsByTagName("input");
		
		
		//유효성 검사
		var cntChecked = 0;
		for(var i=0;i<boxes.length;i++){
			
			if(boxes[i].checked==true){
				cntChecked++;
			}
		}
		
		
		if(cntChecked!=2){
			alert("노드 두개만!");
		}
		
		//교환
		var lis = [];
		
		for(var i=0;i<boxes.length;i++){
			if(boxes[i].checked==true){
				lis.push(boxes[i].parentNode);
			}
		}
		
		var emptyNode = document.createElement("li");
		var temp = photos.insertBefore(emptyNode,lis[0]);
		var node = photos.removeChild(lis[0]);
		lis[0] = lis[1];
		photos.insertBefore(node,temp);
		photos.removeChild(temp);
	/* 	var nodeNext = node.nextSibiling;
		photos.insertBefore(nodeTemp,lis[1]);
		photos.insertBefore
		lis[0] = lis[1];
		lis[1] = nodeTemp;
		nodeTemp=0; */
			
	};	
	
	
	
	
}
	


window.addEventListener("load",init);

</script>

<body>

	<ul id="changer">
		<li>
			<select id="combo-box">
				<option value="untitled.png">첫번째 이미지</option>
				<option value="untitled1.png">두번째 이미지</option>
				<option value="untitled3.png">세번째 이미지</option>
			</select>
			
			<input id="btn-img-change1" type="button" value ="변경"/>
		</li>
		
		<li>
			<input type="button" id="btn-add-text" value="add text"/>
			<input type="button" id="btn-add-img" value="add img"/>
			<input type="button" id="btn-del-child" value="del child"/>
			<input type="button" id="btn-clone-node" value="clone child"/>
			<input type="button" id="btn-exchange-nodes" value="두개의 노드 교체"/>
		</li>
	</ul>






	<ul id="photos">
		<li><input type="checkbox"/><img src="untitled.png"/></li>
		<li><input type="checkbox"/><img src="untitled1.png"/></li>
		<li><input type="checkbox"/><img src="untitled3.png"/></li>
	</ul>





</body>
</html>